{% extends "layouts/base-fullscreen.html" %}

{% block title %} Profile {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
{% endblock stylesheets %}

{% block content %}
    <div class="row">
        
        <div class="col-12">
            <div class="row">
                <div class="col-12 mb-4">
                    <div class="card shadow border-0 text-center p-0" >
                        <div class="card-body pb-5" style="background-image: url('/static/assets/img/software-36.jpg'); background-size:; background-position: center;">
                            <h3 class="h3">
                                {{ request.user.first_name }}  {{ request.user.last_name }}
                            </h5>
                            <p class="text-gray mb-4">
                                {{ request.user.email }}
                            </p>
                        </div>
                      </div>
                </div>
            </div>
        </div>
        <br><br><br><br><br>
        <div class="col-12">
            <div class="card card-body border-0 shadow mb-4">
                <h2 class="h5 text mb-4">Profile</h2>
                <form>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div>
                                <label for="first_name">First Name</label>
                                <input class="form-control" id="first_name" type="text" placeholder="{{ request.user.first_name }}" readonly>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div>
                                <label for="last_name">Last Name</label>
                                <input class="form-control" id="last_name" type="text" placeholder="{{ request.user.last_name }}" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input class="form-control" id="email" type="email" placeholder="{{ request.user.email }}" readonly>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <label for="referral_code">Referral Code</label>
                                <input class="form-control" id="referral_code" type="text" placeholder="{{ request.user.referral_code }}" readonly>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <label for="main_balance">Main Balance</label>
                                <input class="form-control" id="main_balance" type="text" placeholder="{{ request.user.main_balance }}" readonly>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <label for="referral_balance">Referral Balance</label>
                                <input class="form-control" id="referral_balance" type="text" placeholder="{{ request.user.referral_balance }}" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="mt-3">
                        <a  href="{% url 'password_change' %}" class="btn btn-gray-800 mt-2 animate-up-2" type="submit">Change Password</a>
                    </div>
                </form>
            </div>
        </div>
        <br><br><br>
    <div class="h2 text-center">Referrals</div>
    <br>

    <div class="container card card-body border-0 shadow table-wrapper table-responsive">
    
    {% if referrals %}
    <table>
        <thead>
            <tr>
                <th>user</th>
                <th>date</th>
                <th>status</th>
                <th>bonus</th>
                
            </tr>
        </thead>
        <tbody>
            {% for referral in referrals %}
            <tr>
                <td>{{ referral.referrals }}</td>
                <td>{{ referral.date }}</td>
                <td>{{ referral.status }}</td>
                <td class="text-success">+{{ referral.award_bonus }}</td>

            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="card-footer px-3 border-0 d-flex flex-column flex-lg-row align-items-center justify-content-between">
        <nav aria-label="referrals">
            <ul class="pagination mb-0">
                <li>
                You have no Referrals yet
                </li>
            </ul>
        </nav>
    </div>
    {% endif %}
    </div>
</div>
</div>

{% endblock content %}

